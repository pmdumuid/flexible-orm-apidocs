<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>flexible-orm: PDOFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">flexible-orm&#160;<span id="projectnumber">0.9</span></div>
   <div id="projectbrief">Simple, flexible ORM framework with Amazon AWS SimpleDB libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_r_m_1_1_p_d_o_factory.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">PDOFactory Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ORM::PDOFactory" --><!-- doxytag: inherits="ORM::Interfaces::DataFactory" -->
<p>A singleton database managing class that acts as a factory for prepared statements.  
 <a href="class_o_r_m_1_1_p_d_o_factory.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for PDOFactory:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_r_m_1_1_p_d_o_factory.png" usemap="#PDOFactory_map" alt=""/>
  <map id="PDOFactory_map" name="PDOFactory_map">
<area href="interface_o_r_m_1_1_interfaces_1_1_data_factory.html" title="Interface for SQL prepared statement factory classes." alt="DataFactory" shape="rect" coords="0,0,83,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ade5ea812208475a865ace01552fc9810">statementPrepared</a> ($sql)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see whether a matching prepared statement has already been prepared for the supplied SQL.  <a href="#ade5ea812208475a865ace01552fc9810"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a8013b66d626af4c2c62ff920b8b5b07a">setStatement</a> ($sql)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare and store a SQL statement.  <a href="#a8013b66d626af4c2c62ff920b8b5b07a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a774f7234370bd21f8c5d1b7405feabc5">getStatement</a> ($sql)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a prepared statement.  <a href="#a774f7234370bd21f8c5d1b7405feabc5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ae91816c8ca9cc7a425f88687a4acc7d9">startProfiling</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on DB Profiling.  <a href="#ae91816c8ca9cc7a425f88687a4acc7d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#abfc25ec9545bfee35877db62d8f87401">getProfile</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an array detailing database activity.  <a href="#abfc25ec9545bfee35877db62d8f87401"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a">Get</a> ($sql, $database=self::DEFAULT_DATABASE, $callingClass=null)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a prepared PDOStatement matching the supplied string.  <a href="#a0b01f3c995380c8f3a6eada85c8a496a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a11d223633dcff325658bab3969c0b158">LastInsertId</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the last inserted row, or the last value from a sequence object, depending on the underlying driver.  <a href="#a11d223633dcff325658bab3969c0b158"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ae5687c1ad361ba712c385fcf05b6f59f">GetFactory</a> ($database=self::DEFAULT_DATABASE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the instance of <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a>.  <a href="#ae5687c1ad361ba712c385fcf05b6f59f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a668b71363f2038a5597cc84956da5557">DEFAULT_DATABASE</a> = 'database'</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the configuration group if database configuration group is not specified.  <a href="#a668b71363f2038a5597cc84956da5557"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ac298d32eecb995eda89a65301e786b0b">__construct</a> ($databaseConfig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the database when creating the <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> instance.  <a href="#ac298d32eecb995eda89a65301e786b0b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a8ed5ed4c1fe0d21d5de9b02e7e2092d5">$_statements</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An associative array of prepared PDO statements.  <a href="#a8ed5ed4c1fe0d21d5de9b02e7e2092d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a37e4821867a3a4c6a834c03a9bdb1317">$_db</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Database Connection.  <a href="#a37e4821867a3a4c6a834c03a9bdb1317"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ad322c57a12972406c03ae0f1a69fc936">$_factories</a> = array()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> instances, only one for each database connection.  <a href="#ad322c57a12972406c03ae0f1a69fc936"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A singleton database managing class that acts as a factory for prepared statements. </p>
<p>To use, simply call <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>( $yourSQLstring );</p>
<p>Get a prepared PDOStatement matching the supplied string. </p>
<p>If the SQL matches an already prepared statement, return that statement instead of preparing a new one. This is useful when a query is run multiple times with different bound parameters.</p>
<p><em>For Example:</em> </p>
<div class="fragment"><pre class="fragment"> $query = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>(<span class="stringliteral">&quot;SELECT * FROM cars WHERE id = :id&quot;</span>);
 $query-&gt;bindValue( <span class="stringliteral">&#39;:id&#39;</span>, 1 );
 $query-&gt;execute();

 $anotherQuery = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>(<span class="stringliteral">&quot;SELECT * FROM cars WHERE id = :id&quot;</span>);
 $query-&gt;bindValue( <span class="stringliteral">&#39;:id&#39;</span>, 2 );
 $query-&gt;execute();
 <span class="comment">// at this point $query === $anotherQuery</span>
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL to prepare </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$database</td><td>[optional] The name of the database Configuration group. If not supplied uses the group DEFAULT_DATABASE = "database". Allows one application to connect to multiple databases. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callingClass</td><td>[optional] Not used for <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a>, required for DataFactory interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>Configuration, <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00019">19</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac298d32eecb995eda89a65301e786b0b"></a><!-- doxytag: member="ORM::PDOFactory::__construct" ref="ac298d32eecb995eda89a65301e786b0b" args="($databaseConfig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>databaseConfig</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connect to the database when creating the <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> instance. </p>
<p>Sets the PDO connection to return <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> objects when preparing SQL.</p>
<p>Uses configuration settings from the Configuration class. An example setup:</p>
<p><em>Ini File (test.ini):</em> </p>
<div class="fragment"><pre class="fragment"> [database]
 name = <span class="stringliteral">&quot;test_db&quot;</span>
 host = <span class="stringliteral">&quot;localhost&quot;</span>  #This is optional [<span class="keywordflow">default</span>=<span class="stringliteral">&#39;localhost&#39;</span>]
 user = <span class="stringliteral">&quot;test&quot;</span>
 pass = <span class="stringliteral">&quot;password&quot;</span>
</pre></div><p><em>PHP:</em> </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="class_o_r_m_1_1_utilities_1_1_configuration.html#a3260a6b443401a87d9c867c9d835f939" title="Load an ini file into the configuration settings.">Configuration::Load</a>(<span class="stringliteral">&#39;test.ini&#39;</span>);

 <span class="comment">// Note database is not specified as this uses the default &quot;database&quot;</span>
 $query = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>(<span class="stringliteral">&quot;SELECT * FROM rabbits&quot;</span>);
</pre></div><dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">\ORM\Exceptions\ORMPDOInvalidDatabaseConfigurationException</td><td>if configuration details are not present or invalid</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$databaseConfig</td><td>Name of the group to load from the Configuration (normally this would be "database"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00085">85</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0b01f3c995380c8f3a6eada85c8a496a"></a><!-- doxytag: member="ORM::PDOFactory::Get" ref="a0b01f3c995380c8f3a6eada85c8a496a" args="($sql, $database=self::DEFAULT_DATABASE, $callingClass=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Get </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>database</em> = <code>self::DEFAULT_DATABASE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>callingClass</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a prepared PDOStatement matching the supplied string. </p>
<p>If the SQL matches an already prepared statement, return that statement instead of preparing a new one. This is useful when a query is run multiple times with different bound parameters.</p>
<p><em>For Example:</em> </p>
<div class="fragment"><pre class="fragment"> $query = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>(<span class="stringliteral">&quot;SELECT * FROM cars WHERE id = :id&quot;</span>);
 $query-&gt;bindValue( <span class="stringliteral">&#39;:id&#39;</span>, 1 );
 $query-&gt;execute();

 $anotherQuery = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a0b01f3c995380c8f3a6eada85c8a496a" title="Get a prepared PDOStatement matching the supplied string.">PDOFactory::Get</a>(<span class="stringliteral">&quot;SELECT * FROM cars WHERE id = :id&quot;</span>);
 $query-&gt;bindValue( <span class="stringliteral">&#39;:id&#39;</span>, 2 );
 $query-&gt;execute();
 <span class="comment">// at this point $query === $anotherQuery</span>
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL to prepare </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$database</td><td>[optional] The name of the database Configuration group. If not supplied uses the group DEFAULT_DATABASE = "database". Allows one application to connect to multiple databases. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callingClass</td><td>[optional] Not used for <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a>, required for DataFactory interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> </dd></dl>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_factory.html#a56c88768135657349a2ce5a3b8082703">DataFactory</a>.</p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00137">137</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae5687c1ad361ba712c385fcf05b6f59f"></a><!-- doxytag: member="ORM::PDOFactory::GetFactory" ref="ae5687c1ad361ba712c385fcf05b6f59f" args="($database=self::DEFAULT_DATABASE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static GetFactory </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>database</em> = <code>self::DEFAULT_DATABASE</code></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the instance of <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$database</td><td>[optional] The name of the database Configuration group. If not supplied uses the group DEFAULT_DATABASE = "database". Allows one application to connect to multiple databases. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00203">203</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="abfc25ec9545bfee35877db62d8f87401"></a><!-- doxytag: member="ORM::PDOFactory::getProfile" ref="abfc25ec9545bfee35877db62d8f87401" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getProfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an array detailing database activity. </p>
<p>Profiling must have first been enabled using <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ae91816c8ca9cc7a425f88687a4acc7d9" title="Turn on DB Profiling.">startProfiling()</a></p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#ae91816c8ca9cc7a425f88687a4acc7d9" title="Turn on DB Profiling.">startProfiling()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00229">229</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="a774f7234370bd21f8c5d1b7405feabc5"></a><!-- doxytag: member="ORM::PDOFactory::getStatement" ref="a774f7234370bd21f8c5d1b7405feabc5" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getStatement </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve a prepared statement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL statement required </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00177">177</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="a11d223633dcff325658bab3969c0b158"></a><!-- doxytag: member="ORM::PDOFactory::LastInsertId" ref="a11d223633dcff325658bab3969c0b158" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static LastInsertId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the ID of the last inserted row, or the last value from a sequence object, depending on the underlying driver. </p>
<p>A shortcut to the PDO::lastInsertId()</p>
<p>return mixed Key value </p>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_factory.html#a11d223633dcff325658bab3969c0b158">DataFactory</a>.</p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00190">190</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8013b66d626af4c2c62ff920b8b5b07a"></a><!-- doxytag: member="ORM::PDOFactory::setStatement" ref="a8013b66d626af4c2c62ff920b8b5b07a" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setStatement </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepare and store a SQL statement. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL to prepare </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00164">164</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae91816c8ca9cc7a425f88687a4acc7d9"></a><!-- doxytag: member="ORM::PDOFactory::startProfiling" ref="ae91816c8ca9cc7a425f88687a4acc7d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">startProfiling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn on DB Profiling. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#abfc25ec9545bfee35877db62d8f87401" title="Get an array detailing database activity.">getProfile()</a> </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00216">216</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="ade5ea812208475a865ace01552fc9810"></a><!-- doxytag: member="ORM::PDOFactory::statementPrepared" ref="ade5ea812208475a865ace01552fc9810" args="($sql)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">statementPrepared </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sql</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check to see whether a matching prepared statement has already been prepared for the supplied SQL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$sql</td><td>The SQL to prepare </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00153">153</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a37e4821867a3a4c6a834c03a9bdb1317"></a><!-- doxytag: member="ORM::PDOFactory::$_db" ref="a37e4821867a3a4c6a834c03a9bdb1317" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PDO $_db<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database Connection. </p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00050">50</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad322c57a12972406c03ae0f1a69fc936"></a><!-- doxytag: member="ORM::PDOFactory::$_factories" ref="ad322c57a12972406c03ae0f1a69fc936" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">array $_factories = array()<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html" title="A singleton database managing class that acts as a factory for prepared statements.">PDOFactory</a> instances, only one for each database connection. </p>
<p>Keys are the database configuration name </p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00033">33</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8ed5ed4c1fe0d21d5de9b02e7e2092d5"></a><!-- doxytag: member="ORM::PDOFactory::$_statements" ref="a8ed5ed4c1fe0d21d5de9b02e7e2092d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">array $_statements<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An associative array of prepared PDO statements. </p>
<p>The keys are the SQL query strings. This is used to ensure that if the same SQL is requested multiple times the statement will only be prepared once. Each element of the array will be a different <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html" title="Custom PDOStatement class allowing better integration with ORM_Model.">ORM_PDOStatement</a>. </p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00044">44</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<a class="anchor" id="a668b71363f2038a5597cc84956da5557"></a><!-- doxytag: member="ORM::PDOFactory::DEFAULT_DATABASE" ref="a668b71363f2038a5597cc84956da5557" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html#a668b71363f2038a5597cc84956da5557">DEFAULT_DATABASE</a> = 'database'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The name of the configuration group if database configuration group is not specified. </p>

<p>Definition at line <a class="el" href="_p_d_o_factory_8php_source.html#l00024">24</a> of file <a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/server/projects/flexible-orm/<a class="el" href="_p_d_o_factory_8php_source.html">PDOFactory.php</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_o_r_m.html">ORM</a>      </li>
      <li class="navelem"><a class="el" href="class_o_r_m_1_1_p_d_o_factory.html">PDOFactory</a>      </li>
      <li class="footer">Generated on Wed Jul 20 2011 10:24:21 for flexible-orm by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
