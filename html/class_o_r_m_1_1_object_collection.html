<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ORM 2.0: ObjectCollection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ORM 2.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_r_m_1_1_object_collection.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>ObjectCollection Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ORM::ObjectCollection" --><div class="dynheader">
Inheritance diagram for ObjectCollection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_r_m_1_1_object_collection.png" usemap="#ObjectCollection_map" alt=""/>
  <map id="ObjectCollection_map" name="ObjectCollection_map">
<area href="class_o_r_m_1_1_model_collection.html" alt="ModelCollection" shape="rect" coords="0,56,105,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a8f3ab30a240b509c191e5f2e0b7c574d">__construct</a> (array $objects=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a4a4d308ef2acb64c0063912cdb0d868b">offsetExists</a> ($index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a904276455f8372c310439fc95558cb4a">offsetGet</a> ($index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#ac6bde6b1eb50eb5377e91771fe46b7a3">offsetSet</a> ($offset, $value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#ac596007eebbae1c05bddf602503e2cbf">offsetUnset</a> ($index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a601c54a2a4082e5d8dfc4509b07ea958">reverse</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#af343507d1926e6ecf964625d41db528c">current</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a729e946b4ef600e71740113c6d4332c0">key</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#acea62048bfee7b3cd80ed446c86fb78a">next</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#ae619dcf2218c21549cb65d875bbc6c9c">rewind</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#abb9f0d6adf1eb9b3b55712056861a247">valid</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#ac751e87b3d4c4bf2feb03bee8b092755">count</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a6c0a4c47b3531bcc641e0aa02e155f00">each</a> ($function)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a891327669a865ed4e8d1a8f6d230c3c9">map</a> ($functionOrProperty)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#af08a41a567567d62f673b57214644195">pop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select</a> ($propertyOrFunction, $value=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a757aeaaf05d30058472f4b1e1347ffd4">detect</a> ($function)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#afae4bde4d6b5f7f74979a84af636547e">$_collection</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a6cd81f2e2fd7c7d6babe28c83920cf8a">_autoMap</a> ($property)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#ac1571304cc2e37fa206d9cff0f79d7f5">_selectByFunction</a> ($function)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_object_collection.html#a15abdca795a051340e6f17e875a71974">_selectByProperty</a> ($propertyName, $value)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Description of <a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a></p>
<p>Provides a more Object-Oriented interface for standard PHP functions like <code>array_map()</code> and <code>array_filter()</code> <br/>
<br/>
</p>
<p><b>Useful Methods:</b></p>
<p><a class="el" href="class_o_r_m_1_1_object_collection.html#a6c0a4c47b3531bcc641e0aa02e155f00">ObjectCollection::each()</a> <p>Apply a function to each element in the collection</p>
<p>Function is passed the current object</p>
<p><b>Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Assume $cars is an ObjectCollection and each object has a property &quot;name&quot;</span>
 $cars-&gt;each(function($car){
      echo $car-&gt;name;
 });
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>Function name or anonymous function to execute </td></tr>
  </table>
  </dd>
</dl>
 <br/>
<br/>
 <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">ObjectCollection::select()</a> <p>Return a subset of a collection based on a condition</p>
<p>May be used in two ways:</p>
<ul>
<li>Selecting by property</li>
<li>Selecting by function</li>
</ul>
<p><b>Selecting by Property</b></p>
<p>This is the simplest method of selection. Provided a property name and value, <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> simply searches the collection for all cases the property is equal (<code>==</code>) to the value.</p>
<div class="fragment"><pre class="fragment"> $staff   = Staff::FindAll();

 $jons    = $staff-&gt;select( <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;Jon&#39;</span> );
 $steves  = $staff-&gt;select( <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;Steve&#39;</span> );
</pre></div><p><b>Selecting by Function</b></p>
<p>Select when the function returns true. The function should take one paramater which will be the item. This is the same as using PHP's <code>array_filter()</code> function</p>
<div class="fragment"><pre class="fragment"> $staff   = Staff::FindAll();

 $youngStaff = $staff-&gt;select(function($staffMember){
      <span class="keywordflow">return</span> $staffMember-&gt;age &lt; 30;
 });
</pre></div><p><em>Note:</em></p>
<ul>
<li>If you want to select all elements with a property set to null, you have to use the function method.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$propertyOrFunction</td><td>Either a property name that all object in the collection have to test against or a function to use for testing. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>[optional] When testing by property (rather than function) this is the value to test for. When the property equals this value the object will be included. If not supplied, tests against TRUE. This value is ignored if $propertyOrFunction is a function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ModelIterator An <a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a> (or subclass of, depending on what this object is) containing the subset of selected items </dd></dl>
 <br/>
<br/>
 <a class="el" href="class_o_r_m_1_1_object_collection.html#a891327669a865ed4e8d1a8f6d230c3c9">ObjectCollection::map()</a> <p>Use a function to map elements to an array</p>
<p>Can either be supplied with a map function (like <code>array_map()</code>) or a string representing a property name. Both of the following examples with have the same output.</p>
<p><b>Example usage (with function)</b>: </p>
<div class="fragment"><pre class="fragment"> $ticket_names = $tickets-&gt;map(function( $ticket ){
      <span class="keywordflow">return</span> $ticket-&gt;name;
 });

 print_r( $ticket_names ); <span class="comment">// Outputs array of names</span>
</pre></div><p><b>Example usage (with property name)</b>: </p>
<div class="fragment"><pre class="fragment"> $ticket_names = $tickets-&gt;map( <span class="stringliteral">&#39;name&#39;</span> );

 print_r( $ticket_names ); <span class="comment">// Outputs array of names</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#a6c0a4c47b3531bcc641e0aa02e155f00">each()</a>, <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a>, auto_map() </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">sring</td><td class="paramname">$functionOrProperty</td><td>Either an object property to map (see <a class="el" href="class_o_r_m_1_1_object_collection.html#a6cd81f2e2fd7c7d6babe28c83920cf8a">_autoMap()</a>) or a function to apply to each element. The function may either be an anonymous function or a function name (will behave exactly like calling array_map() on an array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>
 
<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00026">26</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8f3ab30a240b509c191e5f2e0b7c574d"></a><!-- doxytag: member="ORM::ObjectCollection::__construct" ref="a8f3ab30a240b509c191e5f2e0b7c574d" args="(array $objects=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>objects</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new <a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a></p>
<p>If arguments are supplied, they are added to the collection in the order they are supplied. If only one paramater is given and it is an array, add each element (convert array to ModelIterator)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$objects</td><td>Array of objects to "convert" into an <a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a>. Array keys are removed (ie it will be zero indexed). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ModelIterator </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00045">45</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6cd81f2e2fd7c7d6babe28c83920cf8a"></a><!-- doxytag: member="ORM::ObjectCollection::_autoMap" ref="a6cd81f2e2fd7c7d6babe28c83920cf8a" args="($property)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_autoMap </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>property</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00257">257</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac1571304cc2e37fa206d9cff0f79d7f5"></a><!-- doxytag: member="ORM::ObjectCollection::_selectByFunction" ref="ac1571304cc2e37fa206d9cff0f79d7f5" args="($function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_selectByFunction </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Select items from the collection when the supplied function is true</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>Callable function name or anonymous function. The function should take one parameter and return true when that parameter should be included in the returned array </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Array of selected items </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00346">346</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a15abdca795a051340e6f17e875a71974"></a><!-- doxytag: member="ORM::ObjectCollection::_selectByProperty" ref="a15abdca795a051340e6f17e875a71974" args="($propertyName, $value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_selectByProperty </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>propertyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Shortcut method allowing selection of object when a single property equals a specified value</p>
<p>Easier than writing an anonymous function when making simple selects, such as: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="orm__model__foreign_8example_8php.html#a6c907ea24bf1eea883e1c6dd19bb9aee">$redCars</a> = $cars-&gt;select( <span class="stringliteral">&#39;colour&#39;</span>, <span class="stringliteral">&#39;red&#39;</span> );
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$propertyName</td><td>Name of the object property to test agains </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>For each item in the collection, an item will be included in the output it the $propertyName property equals $value. If not supplied, item properties are tested against TRUE </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Array of selected items </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00370">370</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac751e87b3d4c4bf2feb03bee8b092755"></a><!-- doxytag: member="ORM::ObjectCollection::count" ref="ac751e87b3d4c4bf2feb03bee8b092755" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the number of items in the collection</p>
<p>Part of the Countable interface</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>int </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00179">179</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="af343507d1926e6ecf964625d41db528c"></a><!-- doxytag: member="ORM::ObjectCollection::current" ref="af343507d1926e6ecf964625d41db528c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the element at the current pointer position</p>
<p>Part of the Iterator interface</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#acea62048bfee7b3cd80ed446c86fb78a">next()</a>, <a class="el" href="class_o_r_m_1_1_object_collection.html#ae619dcf2218c21549cb65d875bbc6c9c">rewind()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00119">119</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a757aeaaf05d30058472f4b1e1347ffd4"></a><!-- doxytag: member="ORM::ObjectCollection::detect" ref="a757aeaaf05d30058472f4b1e1347ffd4" args="($function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detect </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Detect whether a condition is true for any element in the collection</p>
<p>Similar to <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> except this exits as soon as the condition is met, meaning it may be faster if you only want to know whether the condition is met at all, not which items meet it.</p>
<p><b>Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Are there any staff older than 80 or younger than 12?</span>
 $labourProblems = $staff-&gt;detect(function($staff){
      <span class="keywordflow">return</span> $staff-&gt;age &lt; 12 || $staff-&gt;age &gt; 80;
 });
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>A function which takes one parameter (each element of the collection) and returns true if the condition has been detected </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean True if at least one object returned true </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00402">402</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6c0a4c47b3531bcc641e0aa02e155f00"></a><!-- doxytag: member="ORM::ObjectCollection::each" ref="a6c0a4c47b3531bcc641e0aa02e155f00" args="($function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">each </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Apply a function to each element in the collection</p>
<p>Function is passed the current object</p>
<p><b>Usage:</b> </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Assume $cars is an ObjectCollection and each object has a property &quot;name&quot;</span>
 $cars-&gt;each(function($car){
      echo $car-&gt;name;
 });
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>Function name or anonymous function to execute </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00199">199</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a729e946b4ef600e71740113c6d4332c0"></a><!-- doxytag: member="ORM::ObjectCollection::key" ref="a729e946b4ef600e71740113c6d4332c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the key at the current position in the collection</p>
<p>Part of the Iterator interface</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#af343507d1926e6ecf964625d41db528c">current()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00131">131</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a891327669a865ed4e8d1a8f6d230c3c9"></a><!-- doxytag: member="ORM::ObjectCollection::map" ref="a891327669a865ed4e8d1a8f6d230c3c9" args="($functionOrProperty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>functionOrProperty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Use a function to map elements to an array</p>
<p>Can either be supplied with a map function (like <code>array_map()</code>) or a string representing a property name. Both of the following examples with have the same output.</p>
<p><b>Example usage (with function)</b>: </p>
<div class="fragment"><pre class="fragment"> $ticket_names = $tickets-&gt;map(function( $ticket ){
      <span class="keywordflow">return</span> $ticket-&gt;name;
 });

 print_r( $ticket_names ); <span class="comment">// Outputs array of names</span>
</pre></div><p><b>Example usage (with property name)</b>: </p>
<div class="fragment"><pre class="fragment"> $ticket_names = $tickets-&gt;map( <span class="stringliteral">&#39;name&#39;</span> );

 print_r( $ticket_names ); <span class="comment">// Outputs array of names</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#a6c0a4c47b3531bcc641e0aa02e155f00">each()</a>, <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a>, auto_map() </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">sring</td><td class="paramname">$functionOrProperty</td><td>Either an object property to map (see <a class="el" href="class_o_r_m_1_1_object_collection.html#a6cd81f2e2fd7c7d6babe28c83920cf8a">_autoMap()</a>) or a function to apply to each element. The function may either be an anonymous function or a function name (will behave exactly like calling array_map() on an array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00235">235</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="acea62048bfee7b3cd80ed446c86fb78a"></a><!-- doxytag: member="ORM::ObjectCollection::next" ref="acea62048bfee7b3cd80ed446c86fb78a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">next </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the next element and advance the current pointer position</p>
<p>Part of the Iterator interface</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#af343507d1926e6ecf964625d41db528c">current()</a>, <a class="el" href="class_o_r_m_1_1_object_collection.html#ae619dcf2218c21549cb65d875bbc6c9c">rewind()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00143">143</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4a4d308ef2acb64c0063912cdb0d868b"></a><!-- doxytag: member="ORM::ObjectCollection::offsetExists" ref="a4a4d308ef2acb64c0063912cdb0d868b" args="($index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">offsetExists </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check to see whether an item exists matching offset</p>
<p>Part of the ArrayAccess interface</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$index</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00057">57</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a904276455f8372c310439fc95558cb4a"></a><!-- doxytag: member="ORM::ObjectCollection::offsetGet" ref="a904276455f8372c310439fc95558cb4a" args="($index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">offsetGet </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the object at a specific index</p>
<p>Part of the ArrayAccess interface</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$index</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00069">69</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac6bde6b1eb50eb5377e91771fe46b7a3"></a><!-- doxytag: member="ORM::ObjectCollection::offsetSet" ref="ac6bde6b1eb50eb5377e91771fe46b7a3" args="($offset, $value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">offsetSet </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the value of a key pair</p>
<p>Part of the ArrayAccess interface</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$offset</td><td></td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00082">82</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac596007eebbae1c05bddf602503e2cbf"></a><!-- doxytag: member="ORM::ObjectCollection::offsetUnset" ref="ac596007eebbae1c05bddf602503e2cbf" args="($index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">offsetUnset </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove an item from the collection at specified index</p>
<p>Part of the ArrayAccess interface</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$index</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00098">98</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="af08a41a567567d62f673b57214644195"></a><!-- doxytag: member="ORM::ObjectCollection::pop" ref="af08a41a567567d62f673b57214644195" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pop an element of the end of the collection</p>
<p>Removes the last added element </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00269">269</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a601c54a2a4082e5d8dfc4509b07ea958"></a><!-- doxytag: member="ORM::ObjectCollection::reverse" ref="a601c54a2a4082e5d8dfc4509b07ea958" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reverse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reverse the collection</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00107">107</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae619dcf2218c21549cb65d875bbc6c9c"></a><!-- doxytag: member="ORM::ObjectCollection::rewind" ref="ae619dcf2218c21549cb65d875bbc6c9c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rewind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rewind the pointer to the beginning of the collection</p>
<p>Part of the Iterator interface</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#af343507d1926e6ecf964625d41db528c">current()</a>, <a class="el" href="class_o_r_m_1_1_object_collection.html#acea62048bfee7b3cd80ed446c86fb78a">next()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00155">155</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3f8c01134058d73dbc4fb90b763f9267"></a><!-- doxytag: member="ORM::ObjectCollection::select" ref="a3f8c01134058d73dbc4fb90b763f9267" args="($propertyOrFunction, $value=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">select </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>propertyOrFunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a subset of a collection based on a condition</p>
<p>May be used in two ways:</p>
<ul>
<li>Selecting by property</li>
<li>Selecting by function</li>
</ul>
<p><b>Selecting by Property</b></p>
<p>This is the simplest method of selection. Provided a property name and value, <a class="el" href="class_o_r_m_1_1_object_collection.html#a3f8c01134058d73dbc4fb90b763f9267">select()</a> simply searches the collection for all cases the property is equal (<code>==</code>) to the value.</p>
<div class="fragment"><pre class="fragment"> $staff   = Staff::FindAll();

 $jons    = $staff-&gt;select( <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;Jon&#39;</span> );
 $steves  = $staff-&gt;select( <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;Steve&#39;</span> );
</pre></div><p><b>Selecting by Function</b></p>
<p>Select when the function returns true. The function should take one paramater which will be the item. This is the same as using PHP's <code>array_filter()</code> function</p>
<div class="fragment"><pre class="fragment"> $staff   = Staff::FindAll();

 $youngStaff = $staff-&gt;select(function($staffMember){
      <span class="keywordflow">return</span> $staffMember-&gt;age &lt; 30;
 });
</pre></div><p><em>Note:</em></p>
<ul>
<li>If you want to select all elements with a property set to null, you have to use the function method.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$propertyOrFunction</td><td>Either a property name that all object in the collection have to test against or a function to use for testing. </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>[optional] When testing by property (rather than function) this is the value to test for. When the property equals this value the object will be included. If not supplied, tests against TRUE. This value is ignored if $propertyOrFunction is a function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ModelIterator An <a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a> (or subclass of, depending on what this object is) containing the subset of selected items </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00323">323</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<a class="anchor" id="abb9f0d6adf1eb9b3b55712056861a247"></a><!-- doxytag: member="ORM::ObjectCollection::valid" ref="abb9f0d6adf1eb9b3b55712056861a247" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check to see if the collection pointer is pointing at a valid element.</p>
<p>Part of the Iterator interface</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_object_collection.html#af343507d1926e6ecf964625d41db528c">current()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00168">168</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="afae4bde4d6b5f7f74979a84af636547e"></a><!-- doxytag: member="ORM::ObjectCollection::$_collection" ref="afae4bde4d6b5f7f74979a84af636547e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">array $_collection<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The array of items </p>

<p>Definition at line <a class="el" href="_object_collection_8php_source.html#l00031">31</a> of file <a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/server/projects/orm.2.0/<a class="el" href="_object_collection_8php_source.html">ObjectCollection.php</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_o_r_m.html">ORM</a>      </li>
      <li class="navelem"><a class="el" href="class_o_r_m_1_1_object_collection.html">ObjectCollection</a>      </li>
      <li class="footer">Generated on Fri Apr 29 2011 09:31:25 for ORM 2.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
