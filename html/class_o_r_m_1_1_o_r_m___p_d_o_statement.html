<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ORM 2.0: ORM_PDOStatement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ORM 2.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_r_m_1_1_o_r_m___p_d_o_statement.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>ORM_PDOStatement Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ORM::ORM_PDOStatement" --><!-- doxytag: inherits="ORM::Interfaces::DataStatement" --><div class="dynheader">
Inheritance diagram for ORM_PDOStatement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_r_m_1_1_o_r_m___p_d_o_statement.png" usemap="#ORM_PDOStatement_map" alt=""/>
  <map id="ORM_PDOStatement_map" name="ORM_PDOStatement_map">
<area href="interface_o_r_m_1_1_interfaces_1_1_data_statement.html" alt="DataStatement" shape="rect" coords="0,0,129,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a1ea669da3b9c1e2d1b92a703386ecc36">fetchInto</a> ($className)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#acc2b78f55ad595459f24778071daebf3">fetchAllInto</a> ($className)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a75192514fe1e2a784634fc1b4b03450a">bindObject</a> ($object, array $params=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a776103178a6652d8f5e55b27cd7ac1af">placeholders</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a7516ca30af0db3cdbf9a7739b48ce91d">__toString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a6126d2e92c3a78174fc47cc926e60c10">execute</a> ($input=null)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#ac6d7764724479ffafd9fd7c8bf7c2cb0">_getQualifiedColumnNames</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a8ec8124babc3d45cf885cfa08099775f">_getObject</a> ($className, $qualifiedColumnNames)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a5a51b38fbf3aa3a41591ff46f48154b4">_removeQuotedValues</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Custom PDOStatement class allowing better integration with <a class="el" href="class_o_r_m_1_1_o_r_m___model.html">ORM_Model</a></p>
<p>Allows a single row to be mapped to multiple objects (using <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a1ea669da3b9c1e2d1b92a703386ecc36">fetchInto()</a>) or a group of rows to be mapped to multiple objects in a <a class="el" href="class_o_r_m_1_1_model_collection.html">ModelCollection</a> (using <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#acc2b78f55ad595459f24778071daebf3">fetchAllInto()</a>).</p>
<p>Also contains a convenience method for mapping a series of Object properties to a prepared statement (using <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a75192514fe1e2a784634fc1b4b03450a">bindObject()</a>).</p>
<p>This class can be return instead of PDOStatement by setting the attribute PDO::ATTR_STATEMENT_CLASS to this class name (as it is in <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html">PDOFactory</a>). </p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00021">21</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a095c5d389db211932136b53f25f39685"></a><!-- doxytag: member="ORM::ORM_PDOStatement::__construct" ref="a095c5d389db211932136b53f25f39685" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor for <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html">ORM_PDOStatement</a></p>
<p>Currently this does not do anything, but it is required for using this as a PDO::ATTR_STATEMENT_CLASS </p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00028">28</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7516ca30af0db3cdbf9a7739b48ce91d"></a><!-- doxytag: member="ORM::ORM_PDOStatement::__toString" ref="a7516ca30af0db3cdbf9a7739b48ce91d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__toString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Output the prepared SQL when casting to string</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00317">317</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8ec8124babc3d45cf885cfa08099775f"></a><!-- doxytag: member="ORM::ORM_PDOStatement::_getObject" ref="a8ec8124babc3d45cf885cfa08099775f" args="($className, $qualifiedColumnNames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getObject </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>className</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>qualifiedColumnNames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a single object of class '$className' from the database</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a1ea669da3b9c1e2d1b92a703386ecc36">fetchInto()</a></dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions\ORMFetchIntoClassNotFoundException</td><td>If the requested $className cannot be loaded </td></tr>
    <tr><td class="paramname">Exceptions\ORMFetchIntoRelatedClassNotFoundException</td><td>If a class within the query could not be resolved to a class name</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$className</td><td>Object class to fetch </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$qualifiedColumnNames</td><td>Array of column names qualified by the classname they are to be mapped to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Object of type $className. Returns false if no row to be fetched. </dd></dl>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00142">142</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac6d7764724479ffafd9fd7c8bf7c2cb0"></a><!-- doxytag: member="ORM::ORM_PDOStatement::_getQualifiedColumnNames" ref="ac6d7764724479ffafd9fd7c8bf7c2cb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_getQualifiedColumnNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get an array of strings detailing the return column names</p>
<p>This is neccasary when fetching from multiple tables with duplicated field names (e.g. User.id and Computer.id).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Not all PDO drivers support PDOStatement::getColumnMeta()</dd>
<dd>
<b>From PHP Documentation:</b> This function is EXPERIMENTAL. The behaviour of this function, its name, and surrounding documentation may change without notice in a future release of PHP. This function should be used at your own risk.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Array of field names, each qualified by table name (aliased table name if there is one). </dd></dl>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00113">113</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5a51b38fbf3aa3a41591ff46f48154b4"></a><!-- doxytag: member="ORM::ORM_PDOStatement::_removeQuotedValues" ref="a5a51b38fbf3aa3a41591ff46f48154b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_removeQuotedValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper method to remove values in quotes from the query string</p>
<p>This allows simple regex search for placeholders.</p>
<p><b>Example</b> </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// This</span>
 <span class="stringliteral">&quot;INSERT INTO owners (name, age) VALUES (&#39;This is my :name and not yours&#39;, :age)&quot;</span>


 <span class="comment">// Would become</span>
 INSERT INTO owners (name, <a class="code" href="orm__model_8save_8example_8php.html#ae3c47a96a44bbe83d878ac6b5d16da5c">age</a>) VALUES (, :<a class="code" href="orm__model_8save_8example_8php.html#ae3c47a96a44bbe83d878ac6b5d16da5c">age</a>)

 <span class="comment">// Meaning that it could be parsed to find placeholders (:age)</span>
</pre></div><dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00297">297</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a75192514fe1e2a784634fc1b4b03450a"></a><!-- doxytag: member="ORM::ORM_PDOStatement::bindObject" ref="a75192514fe1e2a784634fc1b4b03450a" args="($object, array $params=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bindObject </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>params</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Bind an entire object to a prepared statement</p>
<p>A convenient shortcut to looping through an array and binding a series of properties of an object to a prepared statement. The placeholders and strings of the $params array must be the same and all the names must be available public properties of the supplied object.</p>
<p>Alternatively you can omit the placeholders array and the method will attempt to bind <em>all</em> placeholders to corresponding properties.</p>
<p><b>Usage</b> (using the <a class="el" href="class_o_r_m_1_1_p_d_o_factory.html">PDOFactory</a> class) </p>
<div class="fragment"><pre class="fragment"> $car         = Car::FindByColour( <span class="stringliteral">&#39;red&#39;</span> );
 $car-&gt;colour = <span class="stringliteral">&#39;blue&#39;</span>;
 $car-&gt;doors  = 8;

 $query = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a89a2ebb591e365f2b6108c8acead6e52">PDOFactory::Get</a>(
      <span class="stringliteral">&quot;UPDATE cars SET doors = :doors, colour = :colour WHERE id = :id&quot;</span>
 );

 <span class="comment">// This is only for example, as if you were actually using a ORM_Model</span>
 <span class="comment">// subclass, you would only need to call $car-&gt;save();</span>
 $query-&gt;bindObject( $car, array(<span class="stringliteral">&#39;colour&#39;</span>, <span class="stringliteral">&#39;doors&#39;</span>, <span class="stringliteral">&#39;id&#39;</span>) );
 $query-&gt;execute();
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___model.html#af9983414374dd40b269e6a94177e5f08">ORM_Model::_update()</a>, <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a776103178a6652d8f5e55b27cd7ac1af">placeholders()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">Object</td><td class="paramname">$object</td><td>An object which must have public properties matching exactly all the strings in the $params array </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$params</td><td>[optional] An indexed array of strings that define which object properties will be bound to the prepared statement. They will all be bound to named placeholders that match their property name (see description). The order is not important. If it is not provided, the binds are determined from the stored placeholders. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html">ORM_PDOStatement</a> Returns this instance of <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html">ORM_PDOStatement</a> for convenience </dd></dl>

<p><p>&lt;- This is needed for the anonymous function, which cannot use $this </p>
</p>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_statement.html#adfe1cfce40442b3b25f269625d0eee43">DataStatement</a>.</p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00229">229</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6126d2e92c3a78174fc47cc926e60c10"></a><!-- doxytag: member="ORM::ORM_PDOStatement::execute" ref="a6126d2e92c3a78174fc47cc926e60c10" args="($input=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>input</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Override the execute function to add some custom error handling</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions\ORMFindByInvalidFieldException</td><td>if there is an invalid field in the SQL</td></tr>
    <tr><td class="paramname">Exceptions\ORMPDOException</td><td>for any other exceptions</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$input</td><td>[optional] An array of values with as many elements as there are bound parameters in the SQL statement being executed. See PDOStatement-&gt;<a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a6126d2e92c3a78174fc47cc926e60c10">execute()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool </dd></dl>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_statement.html#a4985a1ab789aa8781189efd6f9ec42ba">DataStatement</a>.</p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00334">334</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="acc2b78f55ad595459f24778071daebf3"></a><!-- doxytag: member="ORM::ORM_PDOStatement::fetchAllInto" ref="acc2b78f55ad595459f24778071daebf3" args="($className)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchAllInto </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>className</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a collection of objects representing a number of rows in the database</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a1ea669da3b9c1e2d1b92a703386ecc36">fetchInto()</a> </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">ORMFetchIntoClassNotFoundException</td><td>if $className does not exist</td></tr>
    <tr><td class="paramname">ORMFetchIntoRelatedClassNotFoundException</td><td>when a reultset includes a table alias that cannot be converted to an existing class name </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$className</td><td>The object class name that will form the base object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m_1_1_model_collection.html">ModelCollection</a> A <a class="el" href="class_o_r_m_1_1_model_collection.html">ModelCollection</a> of objects of type $className </dd></dl>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_statement.html#acc2b78f55ad595459f24778071daebf3">DataStatement</a>.</p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00085">85</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1ea669da3b9c1e2d1b92a703386ecc36"></a><!-- doxytag: member="ORM::ORM_PDOStatement::fetchInto" ref="a1ea669da3b9c1e2d1b92a703386ecc36" args="($className)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fetchInto </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>className</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return an object representing the result of the database query</p>
<p>Note: Will only fetch the first result. For returning a group of objects use <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#acc2b78f55ad595459f24778071daebf3">fetchAllInto()</a>.</p>
<p>This will only work when the SQL query is formatted correctly. Each table must be aliased (or have the same name as) the model class. For example, the following SQL would attempt to put the result into an object called <a class="el" href="class_car.html">Car</a>. </p>
<div class="fragment"><pre class="fragment"> SELECT <a class="code" href="class_car.html">Car</a>.* FROM cars AS <a class="code" href="class_car.html">Car</a> LIMIT 1;
</pre></div><p>The more complex query below would populate a class "Car" and give it a property "Owner" which would be an <a class="el" href="class_owner.html">Owner</a> object: </p>
<div class="fragment"><pre class="fragment"> $sql   = <span class="stringliteral">&quot;SELECT Car.*, Owner.* FROM cars AS Car LEFT JOIN owners AS Owner ON Car.owner_id = Owner.id&quot;</span>;
 $query = $db-&gt;prepare( $sql );

 $car = $query-&gt;fetchInto( <span class="stringliteral">&#39;Car&#39;</span> );
 echo $car-&gt;Owner-&gt;name; <span class="comment">// The name of this car&#39;s owner</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#acc2b78f55ad595459f24778071daebf3">fetchAllInto()</a>, ORM_Model::_buildSQL(); </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">ORMFetchIntoClassNotFoundException</td><td>if $className does not exist</td></tr>
    <tr><td class="paramname">ORMFetchIntoRelatedClassNotFoundException</td><td>when a reultset includes a table alias that cannot be converted to an existing class name </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$className</td><td>The object class name that will form the base object </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An object of type $className </dd></dl>

<p>Implements <a class="el" href="interface_o_r_m_1_1_interfaces_1_1_data_statement.html#a1ea669da3b9c1e2d1b92a703386ecc36">DataStatement</a>.</p>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00066">66</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<a class="anchor" id="a776103178a6652d8f5e55b27cd7ac1af"></a><!-- doxytag: member="ORM::ORM_PDOStatement::placeholders" ref="a776103178a6652d8f5e55b27cd7ac1af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">placeholders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the placeholder names from this prepared statement</p>
<p><b>Example:</b> </p>
<div class="fragment"><pre class="fragment"> $query = <a class="code" href="class_o_r_m_1_1_p_d_o_factory.html#a89a2ebb591e365f2b6108c8acead6e52">PDOFactory::Get</a>( <span class="stringliteral">&#39;UPDATE cars SET doors = :doors, colour = :colour WHERE id = :id&#39;</span> );

 print_r( $query-&gt;placeholders() );

 <span class="comment">// Would output:</span>
 <span class="comment">// Array</span>
 <span class="comment">// (</span>
 <span class="comment">//   [0] =&gt; doors</span>
 <span class="comment">//   [1] =&gt; colour</span>
 <span class="comment">//   [2] =&gt; id</span>
 <span class="comment">// )</span>
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>This function is used by <a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html#a75192514fe1e2a784634fc1b4b03450a">bindObject()</a> <a class="el" href="sdb_8sdbresponse_8example_8php.html#abb7171ff0f9bebddff7e2a2df3c198a7">if</a> not param array is supplied </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>array Indexed array of placeholder names (without the preceding colon) </dd></dl>

<p>Definition at line <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html#l00262">262</a> of file <a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/server/projects/orm.2.0/<a class="el" href="_o_r_m___p_d_o_statement_8php_source.html">ORM_PDOStatement.php</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_o_r_m.html">ORM</a>      </li>
      <li class="navelem"><a class="el" href="class_o_r_m_1_1_o_r_m___p_d_o_statement.html">ORM_PDOStatement</a>      </li>
      <li class="footer">Generated on Fri Apr 29 2011 09:31:25 for ORM 2.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
