<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ORM 2.0: ORM_Model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ORM 2.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_r_m___model.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>ORM_Model Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ORM_Model" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#afc8a3c62679cf00ade9f15fb2a6d6132">save</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a087060b582403885d08e89ad894ecc5d">id</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#abb9f0d6adf1eb9b3b55712056861a247">valid</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Find</a> ($idOrArray=array(), $fetchWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a1916b67de952b5acdf6d90bc3fde003c">FindAll</a> ($optionsArray=array(), $findWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a61a19cb43fb2530a2f880c0d0672c471">__callStatic</a> ($name, $arguments)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a204d42e930eeeb12bd036e30b4d99994">FindBy</a> ($field, $value, $fetchWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a842a1d74f299a68465a619ce799fa044">FindByOptions</a> ($optionsArray, $fetchWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a71b7619b377afce22e3cd9d5712d8488">FindAllBy</a> ($field, $value, $operator= '=', $findWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a7fa0e6c62a193ce3cf03a38bc9de16b5">Destroy</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a0b81fc29b186e2532065eed32dbdde8c">TableName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#ab2dd35c631da7f37493f431acad10be8">PrimaryKeyName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a4780d0cc1ed63faf43304819b32a10f4">ForeignKey</a> ($modelName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a062da757939285c507c9ff3f455446b3">ClassName</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a1c26bef7b8d82206f15ba11538145109">_BuildSQL</a> ($optionsArray, $table, $fetchWith=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#aa9bcf4889f8a37f8f0a39eff7110e5fd">_FetchWith</a> (PDOStatement $query)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_r_m___model.html#a0251c0a9d974544b034fafd8afa1d0e2">_FetchAllWith</a> ($query)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for ordinary <a class="el" href="namespace_o_r_m.html">ORM</a> classes</p>
<p>It is very similar to the old base_model class but has been simplified to have a more consistent interface and require less code to create model classes.</p>
<p>If the default configuration is correct for a model, then all is required is to create a subclass of <a class="el" href="class_o_r_m___model.html">ORM_Model</a> </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>Car <span class="keyword">extends</span> <a class="code" href="class_o_r_m___model.html">ORM_Model</a> {

 }

 $carTen = <a class="code" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Car::Find</a>(10);
</pre></div><p>The default configuration is simply:</p>
<ul>
<li>Primary key is "id"</li>
<li>Table name is lowercase plural of model name (in the example above "cars")</li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>jarrod.swift </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00026">26</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a61a19cb43fb2530a2f880c0d0672c471"></a><!-- doxytag: member="ORM_Model::__callStatic" ref="a61a19cb43fb2530a2f880c0d0672c471" args="($name, $arguments)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static __callStatic </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>arguments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allow for specialty "FindBy" functions</p>
<p>Objects can retrieved using (for example)</p>
<p><code> Car::FindByColour( 'red' ); Car::FindAllByColour( 'red' ); Car::FindAllByDoors( 3, '&gt;=' ); </code></p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m___model.html#a204d42e930eeeb12bd036e30b4d99994">FindBy()</a>, <a class="el" href="class_o_r_m___model.html#a71b7619b377afce22e3cd9d5712d8488">FindAllBy()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$arguments</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00134">134</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1c26bef7b8d82206f15ba11538145109"></a><!-- doxytag: member="ORM_Model::_BuildSQL" ref="a1c26bef7b8d82206f15ba11538145109" args="($optionsArray, $table, $fetchWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _BuildSQL </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>optionsArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fetchWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper function for creating SQL statements based on the options array</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m___model.html#a842a1d74f299a68465a619ce799fa044">FindByOptions()</a>, <a class="el" href="class_o_r_m___model.html#a1916b67de952b5acdf6d90bc3fde003c">FindAll()</a>, <a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Find()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$optionsArray</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td></td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$fetchWith</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00217">217</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0251c0a9d974544b034fafd8afa1d0e2"></a><!-- doxytag: member="ORM_Model::_FetchAllWith" ref="a0251c0a9d974544b034fafd8afa1d0e2" args="($query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _FetchAllWith </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00285">285</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa9bcf4889f8a37f8f0a39eff7110e5fd"></a><!-- doxytag: member="ORM_Model::_FetchWith" ref="aa9bcf4889f8a37f8f0a39eff7110e5fd" args="(PDOStatement $query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static _FetchWith </td>
          <td>(</td>
          <td class="paramtype">PDOStatement $&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00254">254</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a062da757939285c507c9ff3f455446b3"></a><!-- doxytag: member="ORM_Model::ClassName" ref="a062da757939285c507c9ff3f455446b3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ClassName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the base classname</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string The class name that is calling this function, stripped of namespacing </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00464">464</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7fa0e6c62a193ce3cf03a38bc9de16b5"></a><!-- doxytag: member="ORM_Model::Destroy" ref="a7fa0e6c62a193ce3cf03a38bc9de16b5" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Destroy </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete a single item from the database</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>Implement this function</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The primary key value specifying which item to delete </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00376">376</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a41158d4b437856cde935e95c5f6fd103"></a><!-- doxytag: member="ORM_Model::Find" ref="a41158d4b437856cde935e95c5f6fd103" args="($idOrArray=array(), $fetchWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Find </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>idOrArray</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fetchWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find a single object</p>
<p>May be used two ways: as a simple lookup by primary key, or as a more complex lookup using an array of options.</p>
<p><b>Usage: Primary key lookup</b> <code> // Find car with id=2 $car = Car::Find( 2 ); </code></p>
<p><b>Usage: Array of options</b> <code> $minDoors = 3; $brand = 'Alfa Romeo';</code></p>
<p><code> // Find the first car that is not an Alfa Romeo where doors is greater than 3 $car = Car::Find(array( 'where' =&gt; 'doors &gt; ? AND brand NOT LIKE ?', 'order' =&gt; 'colour DESC', 'values' =&gt; array( $minDoors, $brand ), )); </code></p>
<p><b>Options for Options Array:</b></p>
<p>* <em>where</em> A string for the WHERE statement, optionally with PDO placeholders. If placeholders are present, the <em>values</em> array must also exist</p>
<p>* <em>values</em> Array of values to be passed to PDOStatement-&gt;execute(). If "?" placeholders have been used, this is simply an array of those paramenters in order. If the named placeholders have been used (e.g. :colour), then the array should be an associative array where the keys are the placeholders.</p>
<p>* <em>order</em> The SQL "ORDER BY" values. Not required.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m___model.html#a842a1d74f299a68465a619ce799fa044">FindByOptions()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$idOrArray</td><td>Either an array of search options or a primary key value. If nothing is supplied, the first database entry is returned </td></tr>
    <tr><td class="paramtype">array&#160;|&#160;string</td><td class="paramname">$fetchWith</td><td>A string (or array of strings) defining model names that are related to this object that should also be fetched </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m___model.html">ORM_Model</a> </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00083">83</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1916b67de952b5acdf6d90bc3fde003c"></a><!-- doxytag: member="ORM_Model::FindAll" ref="a1916b67de952b5acdf6d90bc3fde003c" args="($optionsArray=array(), $findWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static FindAll </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>optionsArray</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>findWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find all matching objects.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Find()</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$optionsArray</td><td>An array of options for finding objects. If not supplied, this will return all objects of this type stored in the database </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$findWith</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ModelCollection A collection of <a class="el" href="class_o_r_m___model.html">ORM_Model</a> subclasses </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00104">104</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a71b7619b377afce22e3cd9d5712d8488"></a><!-- doxytag: member="ORM_Model::FindAllBy" ref="a71b7619b377afce22e3cd9d5712d8488" args="($field, $value, $operator= '=', $findWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static FindAllBy </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>operator</em> = <code>'='</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>findWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find all objects where a single field meets the requirements</p>
<p>This would not be called directly ordinarily, instead call the "magic" method as shown below.</p>
<p><b>Usage</b>: </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Find all red cars</span>
 $cars = Car::FindAllByColour( <span class="stringliteral">&#39;red&#39;</span> );

 <span class="comment">// Find all cars with more than 3 doors</span>
 $cars = Car::FindAllByDoors( 3, <span class="charliteral">&#39;&gt;&#39;</span> );

 <span class="comment">// Find all cars with more than 3 doors and include the owners</span>
 $cars   = Car::FindAllByDoors( 3, <span class="charliteral">&#39;&gt;&#39;</span>, <span class="stringliteral">&#39;\ORM\Mock\Owner&#39;</span> );
 $owners = $cars-&gt;map( <span class="stringliteral">&#39;Owner&#39;</span> ); <span class="comment">// We could now create an array of owners</span>
</pre></div><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd><p class="startdd">if operator is IN then allow $value to be an array </p>
<p class="enddd">verify operator type</p>
</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field name to search on </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value to compare for finding objects </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$operator</td><td>[optional] A valid SQL comparison operator (Default =) </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$findWith</td><td>[optional] A string or array of strings defining the related model names to also fetch </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ModelCollection Return the ModelCollection of objects </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00355">355</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a204d42e930eeeb12bd036e30b4d99994"></a><!-- doxytag: member="ORM_Model::FindBy" ref="a204d42e930eeeb12bd036e30b4d99994" args="($field, $value, $fetchWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static FindBy </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fetchWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the first object where field equals value</p>
<p>This would not be called directly ordinarily, instead call the "magic" method as shown below. It is also called by <a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Find()</a>, which is a shortcut to FindById (assuming that the primary key is "id").</p>
<p><b>Usage</b>: <code> // Get the first car owned by owner_id 4 $car = Car::FindByOwner_id( 4 ); </code></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$field</td><td>The field name to search on </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value to that field must contain </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fetchWith</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m___model.html">ORM_Model</a> </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00170">170</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a842a1d74f299a68465a619ce799fa044"></a><!-- doxytag: member="ORM_Model::FindByOptions" ref="a842a1d74f299a68465a619ce799fa044" args="($optionsArray, $fetchWith=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static FindByOptions </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>optionsArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fetchWith</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find a single object using the supplied options array</p>
<p>See the instructions for <a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">ORM_Model::Find()</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$optionsArray</td><td>Array of options (</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_o_r_m___model.html#a41158d4b437856cde935e95c5f6fd103">Find()</a>) </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array</td><td class="paramname">$fetchWith</td><td>A string (or array of strings) name models that are related to this one and should be joined </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="class_o_r_m___model.html">ORM_Model</a> </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00193">193</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4780d0cc1ed63faf43304819b32a10f4"></a><!-- doxytag: member="ORM_Model::ForeignKey" ref="a4780d0cc1ed63faf43304819b32a10f4" args="($modelName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ForeignKey </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>modelName</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the name of the foreign key that relates another model to this one</p>
<p>Defaults to {modelName}_}modelPrimaryKey}. Can be overriden by defining constant FOREIGN_KEY_{modelName} to the foreign key name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$modelName</td><td>The name of the model to join to this one </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00433">433</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a087060b582403885d08e89ad894ecc5d"></a><!-- doxytag: member="ORM_Model::id" ref="a087060b582403885d08e89ad894ecc5d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the value of the primary key for this object </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00473">473</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab2dd35c631da7f37493f431acad10be8"></a><!-- doxytag: member="ORM_Model::PrimaryKeyName" ref="ab2dd35c631da7f37493f431acad10be8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static PrimaryKeyName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the primary key for a given table</p>
<p>This is assumed to be "id" except for models where the constant PRIMARY_KEY has been set</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00419">419</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="afc8a3c62679cf00ade9f15fb2a6d6132"></a><!-- doxytag: member="ORM_Model::save" ref="afc8a3c62679cf00ade9f15fb2a6d6132" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Save this item to the database</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd><p class="startdd">Implement this function </p>
<p>Work out how to determine if this is an update or creation </p>
<p class="enddd">Define exceptions for this class</p>
</dd></dl>
<p>Either creates a new item or updates an existing one</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean Return true upon success </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00392">392</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0b81fc29b186e2532065eed32dbdde8c"></a><!-- doxytag: member="ORM_Model::TableName" ref="a0b81fc29b186e2532065eed32dbdde8c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static TableName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the table name for a given model</p>
<p>The table name is either guessed from the model name or explicitly defined by creating a constant TABLE in the class.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>_makeTableName() </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00407">407</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<a class="anchor" id="abb9f0d6adf1eb9b3b55712056861a247"></a><!-- doxytag: member="ORM_Model::valid" ref="abb9f0d6adf1eb9b3b55712056861a247" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The default validity check (none) .</p>
<p>Override this for individual models to check for validity</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="testthis_8php_source.html#l00484">484</a> of file <a class="el" href="testthis_8php_source.html">testthis.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/server/projects/orm.2.0/<a class="el" href="testthis_8php_source.html">testthis.php</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_o_r_m___model.html">ORM_Model</a>      </li>
      <li class="footer">Generated on Mon Feb 28 2011 16:18:02 for ORM 2.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
